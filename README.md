# CleanCodeMemo

# 1章 クリーンコード
- 長期的に開発をしていくために、読みやすい、綺麗なコードを書く必要がある。


# 2章 意味のある名前

## 意図が明確な名前にする
- 日単位の経過時間 -> elapsedTimeInDays, daysSinceCreation, daysSinceModification, fileAgeInDays...
- theListのような型情報しかない名前は情報がないためよくない。(そもそも型情報を変数名にするのは非推奨)

## 偽情報を避ける
- accountListという変数がList型でないのはよくない。accountGroup, accounts等がよい。(上に同じ)
- ごく一部のみが異なる変数名はよくない。XYZControllerForEfficientHandlingOfStringsとXYZControllerForEfficientStrangeOfStringsは見分けがつきづらい。
- o==1, l==0の見間違いを避ける。

## 意味のある対比
- zorkという変数がある時にtheZorkという変数を別で作るのは良くない。違いがわからない。
- ノイズワードは冗長的。"table"という単語は表の名前に入っているべきでない。NameとNameString、accountとaccountData、moneyとmoneyAmountは区別がつかない。

## 発音可能な名前をつける
- genymdhmsは発音できない。(generate, year, month, day, hour, minute, secondの省略)

## 検索可能な名前をつける
- マジックナンバー（7とか）は検索できない。MAX_CLASSES_PER_STUDENTは検索できる。
- 1文字の名前は小さなメソッド内のローカル変数のみで使用するのがよい。検索する必要ないから。(forループでi,j,kを使用する時)
- 変数名の長さは変数のスコープに対応する。

## エンコーディングを避ける
- 型、スコープ情報を変数名に入れるべきでない。
- 発音しづらい、ミスタイプの原因になる等。
- 型を変更したのに名前を変更し忘れる等。

## メンバープレフィクス
- メンバー変数に"m_"をつける必要はない。
- クラス、関数は十分に小さくすべき。

## メンタルマッピングを避ける
- コードを読む人が心の中で別の名前に変換するのを避ける。
- forループ以外の1文字変数は大抵の場合読み手の変換が入る。よくない。

## クラス名
- クラス、オブジェクトには名詞、名詞句をつける。(Customer, WikiPage, Accountなど)
- 動詞やManager、Data、Infoは避けるべき。

## メソッド名
- メソッドには動詞をつけるべき。(postPayment, deletePage, save等)

## 1つのコンセプトには1つの単語
- 1つの抽象概念には1つの名前。
- DeviceManagerとProtocolControllerは同じ。統一できる。

## 語呂合わせをしない
- "add"が「2つの値を連結する」という意味で使われている時、「唯一の引数をコレクションに追加する」のにaddは使うべきでない。(InsertやAppendが良い)

## 意味のある文脈を加える
- street, houseNumber, city, state, zipcode等の変数がある時にstateのみ別のメソッドで使用されていると困る。(全て住所関連の変数名)
- プレフィックスをつけることで文脈をつけられる。(addrCity, addrState, addrZipcode等)
- Addressクラスを用意するでもよい。

## 意味のない文脈を与えない
- 必要以上に文脈を名前につけるのは避ける。長く冗長な名前になる。


# 関数

## 小さくする
- 小さい関数こそ優れている。
- ネストも避ける。

## 1つのことを行う
- 1つの関数では1つのことを行う。それ以外のことは行ってはいけない。

## 1つの関数に1つの抽象レベル
- 1つのことのみを行うために、規模は大小あれど1つの抽象レベルにあることを確認する。

### 逓減規則
- コードは上から下に読める必要がある。
- 動作の順番に書かれているのがよい。

## 関数の引数
- 理想的には引数は0。3以上は避けたい。

## 共通モナディック形式
- 1つの引数を渡す時、引数について照会を行う場合と、変換を行う場合がある。
- マイナー: 出力無し、関数呼び出しの際にシステムが変更され、引数は状態を変更する目的で使用される。

## フラグ引数
- 引数にboolを渡すのは良くない。
- TrueとFalseで動作が二つあるため。

## 引数オブジェクト
- 複数の引数を一つにまとめると数を減らせる。
- Circle makeCircle(double x, double y, double radius) -> Circle makeCircle(point center, double radius)

## 動詞とキーワード
- 関数名は洗練された動詞/名詞の組み合わせになる。
- write(name)より、writeField(name)がよい。

## DRY(Don't Repeat Yourself)原則
- 同一のアルゴリズムが複数関数で現れるのは良くない。アルゴリズムを変更する時に複数箇所直す必要があるから。
- 別のメソッドとして定義しておくのが良い。


# コメント
- コメントはよくても必要悪。
- コメントはコードでうまく表現することに失敗した時に補うために使用する。

## コードで説明する
- コメントに書きたかった内容を実行する関数を作れば大抵解決する。

## 良いコメント
- 真っ当なコメント(Copyright等)
- 情報を与えるコメント
- 意図の説明(なぜその選択したのか)
- 明確化(標準ライブラリ等は変更できないため)
- 結果に対する警告(特定のテストケースがなぜオフになっているか等)
- TODOコメント
- 強調(一見筋が通らないことを強調するのに使える)
- APIのdoc
## 良くないコメント
- ぶつぶついうコメント(情報が少ない)
- 冗長なコメント(コード読む方がはやい)
- 誤解を招くコメント
- 命令コメント(全ての関数にdocを強制する等。潜在的な嘘、間違いを含んでいる。)
- 日誌コメント
- ノイズコメント(既に明らかなことを言い換えている。)
- 恐るべきノイズ(間違いによる嘘)
- 使用する必要のない場所でのコメント
- 道標
- 閉じかっこコメント(関数を短くすることを考えるべき)
- 属性と署名
- コメントアウトされたコード。消して良い。なくならない。
- HTMLコメント
- 非局所的な情報(コメントは対象となるコードのそばに書く。システム全体に及ぶ情報は局所的に書くべきでない。)
- 多すぎる情報
- 不明確なつながり
- 関数ヘッダ(短い関数に解説は不要)
- 非公開コードのdoc


# 書式化
- 









